<!DOCTYPE html>
<html>
<head>
  <title>West Seattle Plane Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #plane { font-size: 18px; margin-top: 20px; }
    img { max-height: 40px; vertical-align: middle; }
  </style>
</head>
<body>
  <h1>✈️ West Seattle Plane Tracker</h1>
  <div id="plane">Loading...</div>

  <script>
    async function getPlane() {
      const res = await fetch("/planes");
      const data = await res.json();
      const p = data.plane;

      const div = document.getElementById("plane");
      if (!p) {
        div.textContent = "No planes within 4 miles under 10,000 ft.";
        return;
      }

      div.innerHTML = `
        <strong>${p.callsign || "Unknown"}</strong><br>
        Altitude: ${p.altitude_ft} ft<br>
        Distance: ${p.distance_miles} miles<br>
        Airline: ${p.airline || "Unknown"} ${p.logo ? `<img src="${p.logo}" alt="logo">` : ""}<br>
        Route: ${p.origin || "?"} → ${p.destination || "?"}<br>
        Aircraft: ${p.aircraftType || "Unknown"}
      `;
    }

    getPlane();
    setInterval(getPlane, 10000);
  </script>
</body>
</html>